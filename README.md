# SQLmap Overview and Usage Guide

## Table of Contents
- [Introduction](#introduction)
- [Key Features](#key-features)
- [Techniques Supported](#techniques-supported)
- [Usage and Implementation](#usage-and-implementation)
  - [1. Crawl](#1-crawl)
  - [2. Enumeration](#2-enumeration)
  - [3. Batch Mode](#3-batch-mode)
  - [4. Risk and Level](#4-risk-and-level)
  - [5. Threads](#5-threads)
  - [6. Verbosity](#6-verbosity)
  - [7. Proxy Integration](#7-proxy-integration)
- [SQL Injection via Burp Suite](#sql-injection-via-burp-suite)

---

## Introduction
SQLmap is an open-source penetration testing tool that automates the process of detecting and exploiting SQL injection vulnerabilities. It is capable of performing various database-related activities, such as extracting data, dumping databases, and gaining remote control over a database server.

---

## Key Features
- Detect and exploit SQL injection vulnerabilities.
- Support for multiple database management systems (MySQL, PostgreSQL, Oracle, etc.).
- Automated database enumeration and data dumping.
- Advanced techniques for blind SQL injection.
- Integration with proxy tools like Burp Suite.
- Highly customizable with support for scripts and plugins.

---

## Techniques Supported
SQLmap supports multiple SQL injection techniques, including:

1. **Boolean-based Blind**: Exploits SQL injection by observing differences in HTTP responses based on injected payloads.
2. **Error-based**: Extracts information using error messages generated by the database server.
3. **Time-based Blind**: Exploits SQL injection by delaying responses from the server.
4. **Union Query**: Extracts data by leveraging the UNION SQL operator.
5. **Stacked Queries**: Executes multiple SQL statements in a single query.
6. **Out-of-band**: Exploits SQL injection using techniques like DNS requests.

---

## Usage and Implementation

### 1. Crawl
**Crawl** automates link discovery on a website to find parameters and test them for SQL injection vulnerabilities.

**Command Example:**
```bash
sqlmap -u "http://example.com" --crawl 2
```
- **`--crawl <DEPTH>`**: Sets the crawling depth. Higher depths discover more links.
- **`--crawl-exclude`**: Excludes specific links based on patterns (e.g., logout links).

**Benefits:**
- Automates the discovery of injection points.
- Useful for large applications with multiple links.

### 2. Enumeration
SQLmap can enumerate databases, tables, and columns to gather information.

**Command Example:**
```bash
sqlmap -u "http://example.com?id=1" --dbs
```
- **`--dbs`**: Lists available databases.
- **`--tables`**: Lists tables in a specified database.
- **`--columns`**: Lists columns in a specified table.
- **`--dump`**: Dumps data from a table or database.

### 3. Batch Mode
Batch mode automates execution by assuming default answers to prompts.

**Command Example:**
```bash
sqlmap -u "http://example.com?id=1" --batch
```
- **`--batch`**: Suppresses interactive prompts for streamlined execution.

### 4. Risk and Level
Customize the intensity and scope of tests using **risk** and **level**.

**Command Example:**
```bash
sqlmap -u "http://example.com?id=1" --level 5 --risk 3
```
- **`--level <LEVEL>`**: Specifies the depth of parameter testing (1 to 5).
- **`--risk <RISK>`**: Adjusts the risk level (1 to 3). Higher risk means more invasive tests.

### 5. Threads
Improve speed by running tests with multiple threads.

**Command Example:**
```bash
sqlmap -u "http://example.com" --threads 10
```
- **`--threads <NUMBER>`**: Sets the number of concurrent threads. Default is 1.

**Note:** Excessive threads may stress the server or cause blocking.

### 6. Verbosity
Control the amount of output information during SQLmap execution.

**Command Example:**
```bash
sqlmap -u "http://example.com" --verbose 3
```
- **`--verbose <LEVEL>`**: Adjusts verbosity (0 to 6). Higher levels provide more detailed logs.

### 7. Proxy Integration
Route SQLmap traffic through a proxy for monitoring or anonymity.

**Command Example:**
```bash
sqlmap -u "http://example.com" --proxy="http://127.0.0.1:8080"
```
- **`--proxy`**: Specifies the proxy server URL.
- **`--proxy-cred`**: Provides credentials for proxy authentication.

---

## SQL Injection via Burp Suite
SQLmap integrates with Burp Suite by using HTTP request files.

### Steps to Use:
1. **Intercept Request in Burp Suite:**
   - Use Burp's proxy to intercept a request containing injectable parameters.
   - Save the request as a text file (e.g., `request.txt`).

2. **Run SQLmap with Request File:**
   ```bash
   sqlmap -r request.txt --batch
   ```
   - **`-r <FILE>`**: Specifies the HTTP request file.
   - This allows SQLmap to analyze and test parameters in the intercepted request.

**Benefits:**
- Simplifies the testing of complex parameters and headers.
- Ensures compatibility with advanced authentication mechanisms.

---

## Conclusion
SQLmap is a powerful tool for security professionals, enabling efficient detection and exploitation of SQL injection vulnerabilities. With its extensive customization options, it adapts to various scenarios and integrates seamlessly with other tools. By leveraging features like crawling, batch mode, and proxy support, you can streamline penetration testing workflows and enhance application security.

---

For more information, visit the official [SQLmap website](https://sqlmap.org).

